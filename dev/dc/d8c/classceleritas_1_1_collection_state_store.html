<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Celeritas: celeritas::CollectionStateStore&lt; S, M &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../celeritas-thumbnail.png"/></td>
  <td id="projectalign">
   <div id="projectname">Celeritas<span id="projectnumber">&#160;v0.1.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>celeritas</b></li><li class="navelem"><a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d9/d1e/classceleritas_1_1_collection_state_store-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">celeritas::CollectionStateStore&lt; S, M &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Helper class for storing <a class="el" href="../../d7/dd4/classceleritas_1_1_collection.html" title="Manage generic array-like data ownership and transfer from host to device.">Collection</a> classes on host or device.  
 <a href="../../dc/d8c/classceleritas_1_1_collection_state_store.html#details">More...</a></p>

<p><code>#include &lt;CollectionStateStore.hh&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Type aliases</div></td></tr>
<tr class="memitem:a123178e6fe2fa03788e8c0daa186d7c0"><td class="memItemLeft" align="right" valign="top"><a id="a123178e6fe2fa03788e8c0daa186d7c0" name="a123178e6fe2fa03788e8c0daa186d7c0"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Value</b> = S&lt; <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#aeb6446bfcf4853c1dd9248791d829148a2063c1608d6e0baf80249c42e2be5804">Ownership::value</a>, M &gt;</td></tr>
<tr class="separator:a123178e6fe2fa03788e8c0daa186d7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15919581d5e2314a083a7083c76ab50"><td class="memItemLeft" align="right" valign="top"><a id="ae15919581d5e2314a083a7083c76ab50" name="ae15919581d5e2314a083a7083c76ab50"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Ref</b> = S&lt; <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#aeb6446bfcf4853c1dd9248791d829148ab8af13ea9c8fe890c9979a1fa8dbde22">Ownership::reference</a>, M &gt;</td></tr>
<tr class="separator:ae15919581d5e2314a083a7083c76ab50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2881458374d9a1c10afaf40dae8911a8"><td class="memItemLeft" align="right" valign="top"><a id="a2881458374d9a1c10afaf40dae8911a8" name="a2881458374d9a1c10afaf40dae8911a8"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>size_type</b> = ThreadId::size_type</td></tr>
<tr class="separator:a2881458374d9a1c10afaf40dae8911a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b4852919aad1fca24b5175c226a0253"><td class="memTemplParams" colspan="2"><a id="a9b4852919aad1fca24b5175c226a0253" name="a9b4852919aad1fca24b5175c226a0253"></a>
template&lt;template&lt; <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#aeb6446bfcf4853c1dd9248791d829148">Ownership</a>, <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#af21a33cd854346b7988591378fcfe138">MemSpace</a> &gt; class P&gt; </td></tr>
<tr class="memitem:a9b4852919aad1fca24b5175c226a0253"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>CollectionStateStore</b> (const <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#a68689dbf9eb486a67222e2fe2b496e71">HostCRef</a>&lt; P &gt; &amp;p, size_type <a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html#a2d43fe1d51ce5bf00b3cd86e3b9fc9a2">size</a>)</td></tr>
<tr class="memdesc:a9b4852919aad1fca24b5175c226a0253"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from parameter data. <br /></td></tr>
<tr class="separator:a9b4852919aad1fca24b5175c226a0253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac094943c277125614b292dacd7a8d8c8"><td class="memItemLeft" align="right" valign="top"><a id="ac094943c277125614b292dacd7a8d8c8" name="ac094943c277125614b292dacd7a8d8c8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CollectionStateStore</b> (size_type <a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html#a2d43fe1d51ce5bf00b3cd86e3b9fc9a2">size</a>)</td></tr>
<tr class="memdesc:ac094943c277125614b292dacd7a8d8c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct without parameters. <br /></td></tr>
<tr class="separator:ac094943c277125614b292dacd7a8d8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab4cff33e160cb2c0b25d8888e7ad83"><td class="memItemLeft" align="right" valign="top"><a id="a1ab4cff33e160cb2c0b25d8888e7ad83" name="a1ab4cff33e160cb2c0b25d8888e7ad83"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CollectionStateStore</b> (S&lt; <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#aeb6446bfcf4853c1dd9248791d829148a2063c1608d6e0baf80249c42e2be5804">Ownership::value</a>, M &gt; &amp;&amp;other)</td></tr>
<tr class="memdesc:a1ab4cff33e160cb2c0b25d8888e7ad83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from values by capture, mostly for testing. <br /></td></tr>
<tr class="separator:a1ab4cff33e160cb2c0b25d8888e7ad83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6f66d95bd1c9abd4da7fc9bd24a259"><td class="memTemplParams" colspan="2"><a id="aad6f66d95bd1c9abd4da7fc9bd24a259" name="aad6f66d95bd1c9abd4da7fc9bd24a259"></a>
template&lt;<a class="el" href="../../d0/df5/corecel_2_types_8hh.html#af21a33cd854346b7988591378fcfe138">MemSpace</a> M2&gt; </td></tr>
<tr class="memitem:aad6f66d95bd1c9abd4da7fc9bd24a259"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>CollectionStateStore</b> (const S&lt; <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#aeb6446bfcf4853c1dd9248791d829148a2063c1608d6e0baf80249c42e2be5804">Ownership::value</a>, M2 &gt; &amp;other)</td></tr>
<tr class="memdesc:aad6f66d95bd1c9abd4da7fc9bd24a259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from values by copy, mostly for testing. <br /></td></tr>
<tr class="separator:aad6f66d95bd1c9abd4da7fc9bd24a259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55046f4f4d0d0fc14baec1af4a625a26"><td class="memTemplParams" colspan="2"><a id="a55046f4f4d0d0fc14baec1af4a625a26" name="a55046f4f4d0d0fc14baec1af4a625a26"></a>
template&lt;<a class="el" href="../../d0/df5/corecel_2_types_8hh.html#af21a33cd854346b7988591378fcfe138">MemSpace</a> M2&gt; </td></tr>
<tr class="memitem:a55046f4f4d0d0fc14baec1af4a625a26"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>CollectionStateStore</b> (<a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a>&lt; S, M2 &gt; &amp;&amp;other)</td></tr>
<tr class="memdesc:a55046f4f4d0d0fc14baec1af4a625a26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move construction from this memspace or another. <br /></td></tr>
<tr class="separator:a55046f4f4d0d0fc14baec1af4a625a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9802133197f6119d578d883bfe3b50"><td class="memTemplParams" colspan="2"><a id="ade9802133197f6119d578d883bfe3b50" name="ade9802133197f6119d578d883bfe3b50"></a>
template&lt;<a class="el" href="../../d0/df5/corecel_2_types_8hh.html#af21a33cd854346b7988591378fcfe138">MemSpace</a> M2&gt; </td></tr>
<tr class="memitem:ade9802133197f6119d578d883bfe3b50"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a>&lt; S, M2 &gt; &amp;&amp;other)</td></tr>
<tr class="separator:ade9802133197f6119d578d883bfe3b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca2c3b0c12b7e8ee41766b240979402"><td class="memItemLeft" align="right" valign="top"><a id="a4ca2c3b0c12b7e8ee41766b240979402" name="a4ca2c3b0c12b7e8ee41766b240979402"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CollectionStateStore</b> (const <a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a> &amp;)=default</td></tr>
<tr class="memdesc:a4ca2c3b0c12b7e8ee41766b240979402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default copy construction/assignment. <br /></td></tr>
<tr class="separator:a4ca2c3b0c12b7e8ee41766b240979402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d49fe1e29aad403bd33418ec45a9bfe"><td class="memItemLeft" align="right" valign="top"><a id="a8d49fe1e29aad403bd33418ec45a9bfe" name="a8d49fe1e29aad403bd33418ec45a9bfe"></a>
<a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a> &amp;)=default</td></tr>
<tr class="separator:a8d49fe1e29aad403bd33418ec45a9bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab6d44dda30d8746b011ae11cb9dfc1"><td class="memItemLeft" align="right" valign="top"><a id="adab6d44dda30d8746b011ae11cb9dfc1" name="adab6d44dda30d8746b011ae11cb9dfc1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>operator bool</b> () const</td></tr>
<tr class="memdesc:adab6d44dda30d8746b011ae11cb9dfc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether any data is being stored. <br /></td></tr>
<tr class="separator:adab6d44dda30d8746b011ae11cb9dfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d43fe1d51ce5bf00b3cd86e3b9fc9a2"><td class="memItemLeft" align="right" valign="top"><a id="a2d43fe1d51ce5bf00b3cd86e3b9fc9a2" name="a2d43fe1d51ce5bf00b3cd86e3b9fc9a2"></a>
size_type&#160;</td><td class="memItemRight" valign="bottom"><b>size</b> () const</td></tr>
<tr class="memdesc:a2d43fe1d51ce5bf00b3cd86e3b9fc9a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of elements. <br /></td></tr>
<tr class="separator:a2d43fe1d51ce5bf00b3cd86e3b9fc9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7eb5516ba74f49d3da8fb641195611"><td class="memItemLeft" align="right" valign="top"><a id="afc7eb5516ba74f49d3da8fb641195611" name="afc7eb5516ba74f49d3da8fb641195611"></a>
const Ref &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>ref</b> () const</td></tr>
<tr class="memdesc:afc7eb5516ba74f49d3da8fb641195611"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a reference to the mutable state data. <br /></td></tr>
<tr class="separator:afc7eb5516ba74f49d3da8fb641195611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb232d1e5c8bb85f87d2c1497923734"><td class="memTemplParams" colspan="2"><a id="a2cb232d1e5c8bb85f87d2c1497923734" name="a2cb232d1e5c8bb85f87d2c1497923734"></a>
template&lt;<a class="el" href="../../d0/df5/corecel_2_types_8hh.html#af21a33cd854346b7988591378fcfe138">MemSpace</a> M2&gt; </td></tr>
<tr class="memitem:a2cb232d1e5c8bb85f87d2c1497923734"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a>&lt; S, M2 &gt; &amp;&amp;other) -&gt; <a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore</a>&lt; S, M &gt; &amp;</td></tr>
<tr class="memdesc:a2cb232d1e5c8bb85f87d2c1497923734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment from this memspace or another. <br /></td></tr>
<tr class="separator:a2cb232d1e5c8bb85f87d2c1497923734"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;template&lt; <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#aeb6446bfcf4853c1dd9248791d829148">Ownership</a>, <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#af21a33cd854346b7988591378fcfe138">MemSpace</a> &gt; class S, <a class="el" href="../../d0/df5/corecel_2_types_8hh.html#af21a33cd854346b7988591378fcfe138">MemSpace</a> M&gt;<br />
class celeritas::CollectionStateStore&lt; S, M &gt;</div><p >Helper class for storing <a class="el" href="../../d7/dd4/classceleritas_1_1_collection.html" title="Manage generic array-like data ownership and transfer from host to device.">Collection</a> classes on host or device. </p>
<p >This can be used for unit tests (MemSpace is host) as well as production code. States generally shouldn't be copied between host and device, so the only construction argument is the size.</p>
<p >The State class must be templated on ownership and memory space, and additionally must have an operator bool(), a templated operator=, and a <a class="el" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html#a2d43fe1d51ce5bf00b3cd86e3b9fc9a2" title="Number of elements.">size()</a> accessor. It must also define a free function "resize" that takes a value state and (optionally) Params host data.</p>
<p >The state store is designed to be usable only from host code. Because C++ code in .cu files is still processed by the device compilation phase, this restricts its use to .cc files currently. The embedded collection references can be passed to CUDA kernels, of course. This restriction is designed to reduce propagation of C++ management classes into kernel compilation to improve performance of NVCC build times, and not due to a fundamental capability restriction.</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">CollectionStateStore&lt;ParticleStateData, MemSpace::device&gt;</a> pstates(</div>
<div class="line">    *particle_params, num_tracks);</div>
<div class="line">state_data.particle = pstates.ref();</div>
<div class="ttc" id="aclassceleritas_1_1_collection_state_store_html"><div class="ttname"><a href="../../dc/d8c/classceleritas_1_1_collection_state_store.html">celeritas::CollectionStateStore</a></div><div class="ttdoc">Helper class for storing Collection classes on host or device.</div><div class="ttdef"><b>Definition:</b> CollectionStateStore.hh:46</div></div>
</div><!-- fragment --> </div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../da/d5a/_collection_state_store_8hh.html">CollectionStateStore.hh</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
