<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Celeritas: celeritas::detail::HitProcessor Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../celeritas-thumbnail.png"/></td>
  <td id="projectalign">
   <div id="projectname">Celeritas<span id="projectnumber">&#160;v0.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>celeritas</b></li><li class="navelem"><b>detail</b></li><li class="navelem"><a class="el" href="../../db/d49/classceleritas_1_1detail_1_1_hit_processor.html">HitProcessor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dc/dd4/classceleritas_1_1detail_1_1_hit_processor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">celeritas::detail::HitProcessor Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Transfer Celeritas sensitive detector hits to Geant4.  
 <a href="../../db/d49/classceleritas_1_1detail_1_1_hit_processor.html#details">More...</a></p>

<p><code>#include &lt;HitProcessor.hh&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Type aliases</div></td></tr>
<tr class="memitem:aedbd0ac1c3f342c95c633f3e33c1e99e"><td class="memItemLeft" align="right" valign="top"><a id="aedbd0ac1c3f342c95c633f3e33c1e99e" name="aedbd0ac1c3f342c95c633f3e33c1e99e"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>VecLV</b> = std::vector&lt; G4LogicalVolume * &gt;</td></tr>
<tr class="separator:aedbd0ac1c3f342c95c633f3e33c1e99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aac9e71521ec7192d2199d0c5fa41d595"><td class="memItemLeft" align="right" valign="top"><a id="aac9e71521ec7192d2199d0c5fa41d595" name="aac9e71521ec7192d2199d0c5fa41d595"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HitProcessor</b> (VecLV detector_volumes, <a class="el" href="../../d7/d26/structceleritas_1_1_step_selection.html">StepSelection</a> const &amp;selection, bool locate_touchable)</td></tr>
<tr class="memdesc:aac9e71521ec7192d2199d0c5fa41d595"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct local navigator and step data. <br /></td></tr>
<tr class="separator:aac9e71521ec7192d2199d0c5fa41d595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eaeab9b804ba6339bd153177ed6df2a"><td class="memItemLeft" align="right" valign="top"><a id="a7eaeab9b804ba6339bd153177ed6df2a" name="a7eaeab9b804ba6339bd153177ed6df2a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>operator()</b> (<a class="el" href="../../db/dfe/structceleritas_1_1_detector_step_output.html">DetectorStepOutput</a> const &amp;out) const</td></tr>
<tr class="memdesc:a7eaeab9b804ba6339bd153177ed6df2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate and call hits from a detector output. <br /></td></tr>
<tr class="separator:a7eaeab9b804ba6339bd153177ed6df2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Transfer Celeritas sensitive detector hits to Geant4. </p>
<p >This serves a similar purpose to the <code>G4FastSimHitMaker</code> class for generating hit objects. It should be "stream local" but by necessity has to share the same <a class="el" href="../../d9/d84/classceleritas_1_1detail_1_1_hit_manager.html" title="Manage the conversion of hits from Celeritas to Geant4.">HitManager</a> which takes the input detector names, maps them to detector IDs, and adds a HitCollector to the action manager.</p>
<p >Call operator:</p><ul>
<li>Loop over detector steps</li>
<li>Update step attributes based on hit selection for the detector (TODO: selection is global for now)</li>
<li>Call the local detector (based on detector ID from map) with the step</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>For now we store the LogicalVolume rather than the SD in order to work better with multithreaded code. (The LV <code>GetSensitiveDetector</code> returns thread-local data.) This means you can (and should) share the <code><a class="el" href="../../db/d49/classceleritas_1_1detail_1_1_hit_processor.html" title="Transfer Celeritas sensitive detector hits to Geant4.">HitProcessor</a></code> instance across threads. Once multithreading is better integrated into Celeritas and we can check how it interacts with CMSSW, then we can make the whole kernel thread safe by ensuring independent hit processors (and state data) for every thread. </dd></dl>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d9/d67/_hit_processor_8hh.html">HitProcessor.hh</a></li>
<li><a class="el" href="../../d8/df2/_hit_processor_8cc.html">HitProcessor.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
