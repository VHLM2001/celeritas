<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Celeritas: celeritas::KernelRegistry Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
   TeX: { Macros: {
    dif: "{\\;\\mathrm{d}}",
  } }
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../celeritas-square.svg"/></td>
  <td id="projectalign">
   <div id="projectname">Celeritas<span id="projectnumber">&#160;0.4.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>celeritas</b></li><li class="navelem"><a class="el" href="../../d2/d4d/classceleritas_1_1_kernel_registry.html">KernelRegistry</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d1/de2/classceleritas_1_1_kernel_registry-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">celeritas::KernelRegistry Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Keep track of kernels and launches.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;KernelRegistry.hh&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a19d92f783ebd050b6e597b793841a643" id="r_a19d92f783ebd050b6e597b793841a643"><td class="memItemLeft" align="right" valign="top"><a id="a19d92f783ebd050b6e597b793841a643" name="a19d92f783ebd050b6e597b793841a643"></a>
<a class="el" href="../../d7/d86/structceleritas_1_1_kernel_profiling.html">KernelProfiling</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>insert</b> (std::string_view name, <a class="el" href="../../dc/d2d/structceleritas_1_1_kernel_attributes.html">KernelAttributes</a> &amp;&amp;attrs)</td></tr>
<tr class="memdesc:a19d92f783ebd050b6e597b793841a643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new kernel definition to the list. <br /></td></tr>
<tr class="separator:a19d92f783ebd050b6e597b793841a643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc5c0bf7d7e784a8c3537575142595d" id="r_a8fc5c0bf7d7e784a8c3537575142595d"><td class="memItemLeft" align="right" valign="top"><a id="a8fc5c0bf7d7e784a8c3537575142595d" name="a8fc5c0bf7d7e784a8c3537575142595d"></a>
KernelId::size_type&#160;</td><td class="memItemRight" valign="bottom"><b>num_kernels</b> () const</td></tr>
<tr class="memdesc:a8fc5c0bf7d7e784a8c3537575142595d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of kernel diagnostics available. <br /></td></tr>
<tr class="separator:a8fc5c0bf7d7e784a8c3537575142595d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a730d2c6f621bbcc902a67fae354a34" id="r_a9a730d2c6f621bbcc902a67fae354a34"><td class="memItemLeft" align="right" valign="top"><a id="a9a730d2c6f621bbcc902a67fae354a34" name="a9a730d2c6f621bbcc902a67fae354a34"></a>
<a class="el" href="../../db/dde/structceleritas_1_1_kernel_metadata.html">KernelMetadata</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>kernel</b> (<a class="el" href="../../db/d90/_kernel_registry_8hh.html#a6372e8b9fb0a029c63f97745fbb9b390">KernelId</a> id) const</td></tr>
<tr class="memdesc:a9a730d2c6f621bbcc902a67fae354a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the kernel metadata for a given ID. <br /></td></tr>
<tr class="separator:a9a730d2c6f621bbcc902a67fae354a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5b759fa28af262ff60f866d00a414c6e" id="r_a5b759fa28af262ff60f866d00a414c6e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b759fa28af262ff60f866d00a414c6e">profiling</a> ()</td></tr>
<tr class="memdesc:a5b759fa28af262ff60f866d00a414c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to record potentially expensive kernel profiling information.  <br /></td></tr>
<tr class="separator:a5b759fa28af262ff60f866d00a414c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Keep track of kernels and launches. </p>
<p>Every "insert" creates a unique <code><a class="el" href="../../db/dde/structceleritas_1_1_kernel_metadata.html">KernelMetadata</a></code> entry in a thread-safe fashion (in case multiple threads are launching kernels for the first time). Thus every kernel added to the registry needs a <code>static</code> local data (i.e., <code><a class="el" href="../../d8/d8e/classceleritas_1_1_kernel_param_calculator.html" title="Kernel management helper functions.">KernelParamCalculator</a></code>) to track whether the kernel has been added and to keep a reference to the returned profiling data counter. Kernels are always added sequentially and can never be removed from the registry once added. Kernels that share the same name will create independent entries!</p>
<p>This class has a thread-safe methods because it's meant to be shared across multiple threads when running. Generally <code>insert</code> is the only method expected to have contention across threads. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a5b759fa28af262ff60f866d00a414c6e" name="a5b759fa28af262ff60f866d00a414c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b759fa28af262ff60f866d00a414c6e">&#9670;&#160;</a></span>profiling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool celeritas::KernelRegistry::profiling </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether to record potentially expensive kernel profiling information. </p>
<p>This is true if <code>CELERITAS_DEBUG</code> is set <em>or</em> if the <code>CELER_PROFILE_DEVICE</code> environment variable exists and is not empty. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../db/d90/_kernel_registry_8hh.html">KernelRegistry.hh</a></li>
<li><a class="el" href="../../dd/d7f/_kernel_registry_8cc.html">KernelRegistry.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
