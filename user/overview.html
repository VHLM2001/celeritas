<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview &mdash; Celeritas v0.3.0-dev-24+65ba1f71 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API documentation" href="api.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Celeritas
            <img src="_static/celeritas-thumbnail.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.3.1-dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#units">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distributions">Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#physics">Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#geometry">Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stepping-loop">Stepping loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gpu-usage">GPU usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgments.html">Acknowledgments</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendices/release-history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/development.html">Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Celeritas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/overview.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="overview">
<span id="id1"></span><h1>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h1>
<p>This section summarizes key usage patterns and implementation details from
Celeritas, especially those that differ from Geant4.</p>
<section id="units">
<h2>Units<a class="headerlink" href="#units" title="Permalink to this heading"></a></h2>
<p>The unit system in Celeritas is CGS with centimeter (cm), gram (g), second (s),
gauss (Ga?), and kelvin (K) all having a value of unity. With these definitions,
densities can be defined in natural units of <span class="math notranslate nohighlight">\(\mathrm{g}/\mathrm{cm}^3\)</span>,
and macroscopic cross sections are in units of <span class="math notranslate nohighlight">\(\mathrm{cm}^{-1}\)</span>. See
the <a class="reference internal" href="api/celeritas.html#api-units"><span class="std std-ref">units documentation</span></a> for more descriptions of the core
unit system and the exactly defined values for SI units such as tesla.</p>
<p>Celeritas defines <a class="reference internal" href="api/celeritas.html#api-constants"><span class="std std-ref">constants</span></a> from a few different sources.
Mathematical constants are defined as truncated floating point values. Some
physical constants such as the speed of light, Planck’s constant, and the
electron charge, have exact numerical values as specified by the SI unit system
<span id="id2">[<a class="reference internal" href="references.html#id78" title="Bureau International des Poids et Mesures. The International System of Units. Technical Report, International Bureau of Weights and Measures, 2019.">BureauIdPeMesures19</a>]</span>. Other physical constants such as the atomic mass unit and electron
radius are derived from experimental measurements in CODATA 2018. Because the
reported constants are derived from regression fits to experimental data
points, some exactly defined physical relationships (such as the fine structure
<span class="math notranslate nohighlight">\(\alpha = \frac{e^2}{2 \epsilon_0 h c}\)</span> are only approximate.</p>
<p>Unlike Geant4 and the CLHEP unit systems, Celeritas avoids using “natural”
units in its definitions. Although a natural unit system makes some
expressions easier to evaluate, it can lead to errors in the definition of
derivative constants and is fundamentally in conflict with consistent unit
systems such as SI. To enable special unit systems in harmony with the
native Celeritas unit system, the <a class="reference internal" href="api/corecel.html#api-quantity"><span class="std std-ref">Quantity</span></a> class
stores quantities in another unit system with a compile-time constant that
allows their conversion back to native units. This allows, for example,
particles to represent their energy as MeV and charge as fractions of e but
work seamlessly with a field definition in native (macro-scale quantity) units.</p>
</section>
<section id="distributions">
<h2>Distributions<a class="headerlink" href="#distributions" title="Permalink to this heading"></a></h2>
<p>The 2011 ISO C++ standard defined a new functional paradigm for sampling from
random number distributions. In this paradigm, random number <em>engines</em> generate
a uniformly distributed stream of bits. Then, <em>distributions</em> use that entropy
to sample a random number from a distribution. Distributions are function-like
objects whose constructors take the <em>parameters</em> of the distribution: for
example, a uniform distribution over the range <span class="math notranslate nohighlight">\([a, b)\)</span> takes the <em>a</em> and
<em>b</em> parameters as constructor arguments. The templated call operator accepts a
random engine as its sole argument.</p>
<p>Celeritas extends this paradigm to physics distributions. At a low level,
it has <a class="reference internal" href="api/celeritas.html#celeritas-random"><span class="std std-ref">random number distributions</span></a> that result in
single real values (such as uniform, exponential, gamma) and correlated
three-vectors (such as sampling an isotropic direction).</p>
<p>At a higher level, though, it expresses many physics operations as
distributions of <em>updated</em> track states based on <em>original</em> track states. For
example, the Tsai-Urban distribution used for sampling exiting angles of
bremsstrahlung and pair production has parameters of incident particle energy
and mass, and it samples the exiting polar angle cosine. Additional
distributions are built on top of those: all discrete interactions (in Geant4
parlance, “post-step do-it”s) use distributions to sample an <em>Interaction</em>
based on incident particle properties. The sampled result contains the updated
particle direction and energy, as well as properties of any secondary particles
produced.</p>
</section>
<section id="physics">
<h2>Physics<a class="headerlink" href="#physics" title="Permalink to this heading"></a></h2>
<p>Celeritas implements physics processes and models for transporting electron, positron,
and gamma particles as shown in the accompanying table. Implementation details of these models
and their corresponding Geant4 classes are documented in <a class="reference internal" href="api/celeritas.html#celeritas-physics"><span class="std std-ref">Physics implementations</span></a>.</p>
<blockquote>
<div><table class="docutils align-default" id="id6">
<caption><span class="caption-text">Electromagnetic physics processes and models available in Celeritas.</span><a class="headerlink" href="#id6" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 15%" />
<col style="width: 19%" />
<col style="width: 37%" />
<col style="width: 18%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Particle</strong></p></td>
<td><p><strong>Processes</strong></p></td>
<td><p><strong>Models</strong></p></td>
<td><p><strong>Celeritas Implementation</strong></p></td>
<td><p><strong>Applicability</strong></p></td>
</tr>
<tr class="row-even"><td rowspan="4"><p><span class="math notranslate nohighlight">\(e^-\)</span></p></td>
<td><p>Ionisation</p></td>
<td><p>Møller</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas22MollerBhabhaInteractorE" title="celeritas::MollerBhabhaInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::MollerBhabhaInteractor</span></code></a></p></td>
<td><p>0–100 TeV</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>Bremsstrahlung</p></td>
<td><p>Seltzer–Berger</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas23SeltzerBergerInteractorE" title="celeritas::SeltzerBergerInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::SeltzerBergerInteractor</span></code></a></p></td>
<td><p>0–1 GeV</p></td>
</tr>
<tr class="row-even"><td><p>Relativistic</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas26RelativisticBremInteractorE" title="celeritas::RelativisticBremInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::RelativisticBremInteractor</span></code></a></p></td>
<td><p>1 GeV – 100 TeV</p></td>
</tr>
<tr class="row-odd"><td><p>Coulomb scattering</p></td>
<td><p>Urban</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas15UrbanMscScatterE" title="celeritas::UrbanMscScatter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::UrbanMscScatter</span></code></a> <a class="footnote-reference brackets" href="#id5" id="id3">1</a></p></td>
<td><p>10 eV – 100 MeV</p></td>
</tr>
<tr class="row-even"><td rowspan="5"><p><span class="math notranslate nohighlight">\(e^+\)</span></p></td>
<td><p>Ionisation</p></td>
<td><p>Bhabha</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas22MollerBhabhaInteractorE" title="celeritas::MollerBhabhaInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::MollerBhabhaInteractor</span></code></a></p></td>
<td><p>0–100 TeV</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>Bremsstrahlung</p></td>
<td><p>Seltzer-Berger</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas23SeltzerBergerInteractorE" title="celeritas::SeltzerBergerInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::SeltzerBergerInteractor</span></code></a></p></td>
<td><p>0–1 GeV</p></td>
</tr>
<tr class="row-even"><td><p>Relativistic</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas26RelativisticBremInteractorE" title="celeritas::RelativisticBremInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::RelativisticBremInteractor</span></code></a></p></td>
<td><p>1 GeV – 100 TeV</p></td>
</tr>
<tr class="row-odd"><td><p>Coulomb scattering</p></td>
<td><p>Urban</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas15UrbanMscScatterE" title="celeritas::UrbanMscScatter"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::UrbanMscScatter</span></code></a> <a class="footnote-reference brackets" href="#id5" id="id4">1</a></p></td>
<td><p>10 eV – 100 MeV</p></td>
</tr>
<tr class="row-even"><td><p>Annihilation</p></td>
<td><p><span class="math notranslate nohighlight">\(e^+-e^- \to 2\gamma\)</span></p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas17EPlusGGInteractorE" title="celeritas::EPlusGGInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::EPlusGGInteractor</span></code></a></p></td>
<td><p>0–100 TeV</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><p><span class="math notranslate nohighlight">\(\gamma\)</span></p></td>
<td><p>Photoelectric</p></td>
<td><p>Livermore</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas21LivermorePEInteractorE" title="celeritas::LivermorePEInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::LivermorePEInteractor</span></code></a></p></td>
<td><p>0–100 TeV</p></td>
</tr>
<tr class="row-even"><td><p>Compton scattering</p></td>
<td><p>Klein–Nishina</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas22KleinNishinaInteractorE" title="celeritas::KleinNishinaInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::KleinNishinaInteractor</span></code></a></p></td>
<td><p>0–100 TeV</p></td>
</tr>
<tr class="row-odd"><td><p>Pair production</p></td>
<td><p>Bethe–Heitler</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas22BetheHeitlerInteractorE" title="celeritas::BetheHeitlerInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::BetheHeitlerInteractor</span></code></a></p></td>
<td><p>0–100 TeV</p></td>
</tr>
<tr class="row-even"><td><p>Rayleigh scattering</p></td>
<td><p>Livermore</p></td>
<td><p><a class="reference internal" href="api/celeritas.html#_CPPv4N9celeritas18RayleighInteractorE" title="celeritas::RayleighInteractor"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">celeritas::RayleighInteractor</span></code></a></p></td>
<td><p>0–100 TeV</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="footnote brackets">
<dt class="label" id="id5"><span class="brackets">1</span><span class="fn-backref">(<a href="#id3">1</a>,<a href="#id4">2</a>)</span></dt>
<dd><p>Multiple Scattering using the Urban Model is only applied up to 100MeV in Celeritas, with no model used above this energy.</p>
</dd>
</dl>
</section>
<section id="geometry">
<h2>Geometry<a class="headerlink" href="#geometry" title="Permalink to this heading"></a></h2>
<p>Celeritas has two choices of geometry implementation. <a class="reference external" href="https://gitlab.cern.ch/VecGeom/VecGeom">VecGeom</a> is a
CUDA-compatible library for navigation on Geant4 detector geometries.
<a class="reference internal" href="api/orange.html#api-orange"><span class="std std-ref">ORANGE</span></a> is a work in progress for surface-based geometry navigation
that is “platform portable”, i.e. able to run on GPUs from multiple vendors.</p>
<p>Celeritas wraps both geometry packages with a uniform interface for changing
and querying the geometry state.</p>
</section>
<section id="stepping-loop">
<h2>Stepping loop<a class="headerlink" href="#stepping-loop" title="Permalink to this heading"></a></h2>
<p>The stepping loop in Celeritas is a sorted loop over “actions”, each of which
is usually a kernel launch (or an inner loop over tracks if running on CPU).</p>
</section>
<section id="gpu-usage">
<h2>GPU usage<a class="headerlink" href="#gpu-usage" title="Permalink to this heading"></a></h2>
<p>Celeritas automatically copies data to device when constructing objects as long
as the GPU is enabled.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, UT–Battelle/ORNL and Celeritas team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>