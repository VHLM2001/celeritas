<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="License" href="license.html" /><link rel="prev" title="Development Guide" href="development.html" />

    <!-- Generated with Sphinx 7.0.1 and Furo 2023.05.20 -->
        <title>Administration - Celeritas 0.3.1-rc.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=e6660623a769aa55fea372102b9bf3151b292993" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Celeritas 0.3.1-rc.2 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/celeritas-square.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Celeritas 0.3.1-rc.2 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Using Celeritas</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api.html">Library API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Library API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/corecel.html">Core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/orange.html">ORANGE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/celeritas.html">Celeritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/accel.html">Acceleritas</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/minimal.html">Minimal Celeritas usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/geant4.html">Minimal Geant4 integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgments.html">Acknowledgments</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="release-history.html">Release History</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Release History</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.3.html">Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.3.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.2.html">Version 0.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.2.html#version-0-2-1">Version 0.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.2.html#version-0-2-0">Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html">Version 0.1.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-4">Version 0.1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-3">Version 0.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-2">Version 0.1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-1">Version 0.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-0">Version 0.1.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development Guide</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="administration">
<span id="id1"></span><h1>Administration<a class="headerlink" href="#administration" title="Permalink to this heading">#</a></h1>
<p>This appendix includes administrative policies and details describing the roles
and responsibilities of participants. It is meant to be a living document, more
descriptive than prescriptive. It should be a basis for future decision making,
using past decisions as a prior. Changes to this appendix can be made by pull
request with the leadership team as reviewers.</p>
<section id="community-standards">
<h2>Community standards<a class="headerlink" href="#community-standards" title="Permalink to this heading">#</a></h2>
<p>Be respectful. Communicate openly. Resolve disagreements peacefully.</p>
<section id="resolution-process">
<h3>Resolution process<a class="headerlink" href="#resolution-process" title="Permalink to this heading">#</a></h3>
<p>If a disagreement about Celeritas can’t be immediately resolved, it’s OK to
postpone resolution (maybe you need more data or more time to think, perhaps to
decide it’s not important enough at the end of the day). In the case that a
resolution is
needed quickly (e.g., if it’s a blocking issue), it should be discussed among
the <a class="reference internal" href="#roles"><span class="std std-ref">core team</span></a> until an agreement is reached. If the issue is
still contentious, the leadership team should make an executive decision,
giving weight to the appropriate capability area lead if possible.</p>
</section>
</section>
<section id="roles">
<span id="id2"></span><h2>Roles<a class="headerlink" href="#roles" title="Permalink to this heading">#</a></h2>
<p>The roles of the Celeritas code base are related to the roles
set out in the SciDAC project management plan (PMP). These roles should be
reflected in the different teams and/or access restrictions in GitHub.</p>
<dl class="simple">
<dt>Leadership team member</dt><dd><p>The “leadership team” comprises the PIs and capability leads in the PMP, or
their designated proxies who work directly on the Celeritas code. They are
responsible for the long-term and big-picture project goals, and they ensure
that project milestones are met.</p>
</dd>
<dt>Code lead</dt><dd><p>The code lead is the “core capability lead” described in the PMP and
is responsible for steering the technical implementation of the codebase to
meet the long-term project goals. One key responsibility of the code lead is
to set up milestones for releases and execute the release process described
below.</p>
</dd>
<dt>Maintainer</dt><dd><p>Maintainers should be familiar with most or all parts of the codebase and
are responsible for merging pull requests and closing issues.</p>
</dd>
<dt>Core team member</dt><dd><p>The “core team” are those currently funded to work on Celeritas. Core team
members are responsible for reviewing pull requests in accordance with the
<a class="reference internal" href="development.html#contributing"><span class="std std-ref">contributing guidelines</span></a>. They should regularly
contribute new code, perform code reviews, publish new results using
Celeritas, and/or participate in Celeritas stand-up meetings and hackathons.</p>
</dd>
<dt>Contributor</dt><dd><p>Anyone can submit a pull request that conforms to the contribution
guidelines! Contributors are recognized by including their handle and pull
requests in release notes but do not otherwise have a formal role.</p>
</dd>
</dl>
<section id="role-change-process">
<h3>Role change process<a class="headerlink" href="#role-change-process" title="Permalink to this heading">#</a></h3>
<p>Adding or removing a member of the “core team” must be done by consensus of the
leadership team (or if the core team member wants to remove themself). Adding
maintainers can be done at the whim of the code lead. The <a class="reference external" href="https://github.com/orgs/celeritas-project/teams">team list</a> on
GitHub is the official record of roles.</p>
</section>
</section>
<section id="code-review">
<span id="id3"></span><h2>Code review<a class="headerlink" href="#code-review" title="Permalink to this heading">#</a></h2>
<p>Reviewing incoming code maintains (and should improve) the quality of the
codebase in the interests of correctness and long-term maintainability.
If the code is reviewed according to the guidelines below, at least two people
(the author and the reviewer) will be able to modify any given piece of code,
increasing the <a class="reference external" href="https://en.wikipedia.org/wiki/Bus_factor">bus factor</a>.</p>
<section id="review-process">
<h3>Review process<a class="headerlink" href="#review-process" title="Permalink to this heading">#</a></h3>
<p>Each pull request must be reviewed by at least one
member of the <a class="reference internal" href="#roles"><span class="std std-ref">core team</span></a> who is knowledgeable about
the section of code being modified.</p>
<p>The review process must be based on
<em>constructive feedback</em> (“here’s a suggestion to make this better” or “did you
consider what would happen if X?”), not <em>destructive feedback</em> (“this code is
ugly”). When reviewing, you should focus almost exclusively on the new
changeset, as opposed to larger systemic issues, or smaller problems with
nearby sections of code that you happen to notice. If you do find such issues
and they can reasonably be bundled into the submitted change set, you can work
with the author to incorporate the changes, create a follow-on pull request
yourself, or open an issue for later.</p>
<p>Try to fully review the entirety of the changeset on your first review, <em>but</em>
if major changes are needed it’s a good idea to pause, submit your comments so
far, and work with the PR author to address the major issues before continuing
to the next review iteration.</p>
<p>The correctness of the new code must be ensured by comparing against
references, verifying the new code is sufficiently tested, and/or running
regression problems on the incoming branch.
Physics code should be compared against reference papers and other codes such
as Geant4.</p>
<p>Ensure readability and maintainability by checking that the <a class="reference internal" href="development.html#code-guidelines"><span class="std std-ref">code</span></a> and <a class="reference internal" href="development.html#style-guidelines"><span class="std std-ref">style</span></a> guidelines have been
followed in the new code. Balance the desire for readability with the need to
avoid <a class="reference external" href="https://thedecisionlab.com/biases/bikeshedding">bikeshedding</a> by asking yourself whether your requests are
substantive enough to merit a new pull request. Perfect is the enemy of good.</p>
<p>By the time you’ve finished the code review, you should understand the code
well enough to maintain it (by extension or modification) in the future.</p>
</section>
<section id="merge-process">
<h3>Merge process<a class="headerlink" href="#merge-process" title="Permalink to this heading">#</a></h3>
<p>Celeritas uses the “squash and merge” process to ensure continuity of the code
history and provide easy bisecting because all commits pass all tests.
Squashing eliminates the potential of broken commits and relieves developers of
the burden of worrying about clean commit messages within a branch.</p>
<p>Since there are few enough merge requests these days, only <a class="reference internal" href="#roles"><span class="std std-ref">maintainers</span></a> may commit a merge.</p>
</section>
</section>
<section id="releases">
<h2>Releases<a class="headerlink" href="#releases" title="Permalink to this heading">#</a></h2>
<p>Celeritas uses <a class="reference external" href="https://semver.org">Semantic Versioning</a> to enumerate releases. During its initial
development phase, <code class="docutils literal notranslate"><span class="pre">0.x.0</span></code> is a major release and <code class="docutils literal notranslate"><span class="pre">0.x.z</span></code> is a patch
release. When Celeritas is declared stable, <code class="docutils literal notranslate"><span class="pre">x.0.0</span></code> is a major release,
<code class="docutils literal notranslate"><span class="pre">x.y.0</span></code> is a minor release, and <code class="docutils literal notranslate"><span class="pre">x.y.z</span></code> is a patch release.</p>
<p>Major and minor releases (including 0.x.0 development releases) must have a
milestone in the git issue tracker with a list of issues that can be assigned.
Only major releases can remove features and change
<a class="reference internal" href="../api.html#api"><span class="std std-ref">public-facing APIs</span></a>. Minor releases can
<a class="reference internal" href="#deprecations"><span class="std std-ref">deprecate features</span></a>. Both major and minor releases should
include notable improvements to the code.</p>
<p>Patch releases can be created at any time but should typically include at least
one critical bug fix or several substantial fixes. Patch releases should focus
almost exclusively on fixes and should generally not include new features or
other major code changes.</p>
<section id="release-process">
<h3>Release process<a class="headerlink" href="#release-process" title="Permalink to this heading">#</a></h3>
<p>Releases can be created from the primary “develop” branch (major, minor, patch)
or a “backport” branch (minor, patch).
The following process must be followed (and may need iteration to converge) for
each release.</p>
<ol class="arabic simple">
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">release-vX.Y.Z</span></code> branch.</p></li>
<li><p>Ensure all CI jobs passed for the release in question. This is automatic
for releases from the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch (since every pull request must
pass) but should be checked manually for backports.</p></li>
<li><p>Update documentation with release notes from all pull requests newly
included in the release. <em>Make sure this happens after all pull requests
targeted for this milestone have been merged</em>.
Follow the format for previous releases: add a
summary of highlights, and enumerate the pull requests (with PR numbers and
authorship attribution) separated by features and bug requests. Use the
<a class="reference external" href="https://github.com/celeritas-project/celeritas-docs/blob/master/nb/admin/github-stats.ipynb">helper notebook</a> in the Celeritas documents repository to automate this.</p></li>
<li><p>Tag the branch on your fork with <code class="docutils literal notranslate"><span class="pre">vX.Y.Z-rc.N</span></code> where N starts with 1, and
increment for every time you return to this step due to new pull requests.</p></li>
<li><p>Run regression tests on Summit (for performance testing), Crusher (for HIP
testing), and an additional machine with debug assertions enabled (e.g.,
Wildstyle).</p></li>
<li><p>[TODO: define high-level validation tests like <a class="reference external" href="https://geant-val.cern.ch">geant-val</a> and a test
matrix correlating capability areas (code files/directories changed) to
test names.] Rerun and perform a cursory check on all validation tests that
might be affected by changes since the previous release. More complete
validation (since a change in results might not be an error) can be done
separately.</p></li>
<li><p>Postpone the release temporarily if major new bugs or performance
regressions are detected. Create new pull requests for the serious errors
using the standard <a class="reference internal" href="development.html#contributing"><span class="std std-ref">contributing</span></a> process, and once the
fixes are merged into develop, merge develop into the release branch.
Return to step 3.</p></li>
<li><p>If only minor updates are needed to fix the build or tests on a particular
machine, include those as part of the “pre-release” pull request that
includes new documentation.</p></li>
<li><p>Ensure the code documentation builds, preferably without warnings, on a
configuration that has Sphinx, Doxygen, and Breathe active. [TODO: automate
this with CI for doc publishing]</p></li>
<li><p>Submit a pull request with the newly added documentation and any
release-related tweaks, and wait until it’s reviewed and merged.</p></li>
<li><p>If releasing a backported version branch, cherry-pick this documentation
commit into the backport branch.</p></li>
<li><p>Use the GitHub interface to create a new release with the documentation
update that was just added.</p></li>
</ol>
<p>After committing the release tag:</p>
<ol class="arabic simple">
<li><p>Save the <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code> and attach to the release, because the hash changes if
the git “describe” function returns a different result for the release tag’s
hash (e.g., if a collaborative branch on the main repository points to that
commit).</p></li>
<li><p>Pull locally (make sure to use the <code class="docutils literal notranslate"><span class="pre">--tags</span></code> option) and build PDF user
documentation for the release. Ensure breathe is activated (so the API is
listed) and that the version is embedded correctly.  [TODO: We should add a
documentation pipeline that builds and uploads to GitHub pages.]</p></li>
<li><p>Update the Spack recipe for Celeritas with the new version and sha256 value
(either manually or using <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">checksum</span></code>) and submit a pull request to
the Spack project.</p></li>
<li><p>Mark the GitHub release milestone as completed.</p></li>
</ol>
<p>The first commit that deviates from the most recent major or minor branch
should be tagged (but not released!) with the next version number with a
<code class="docutils literal notranslate"><span class="pre">-dev</span></code> suffix. For example, after releasing version 1.0.0, the next
commit on the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch that is <em>not</em> intended for version 1.0.1
(i.e., the
first new feature) should be tagged with <code class="docutils literal notranslate"><span class="pre">v1.1.0-dev</span></code>, so that
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">describe</span> <span class="pre">--tags</span> <span class="pre">--match</span> <span class="pre">'v*'</span></code> shows the new features as being part of the
<code class="docutils literal notranslate"><span class="pre">v1.1.0</span></code> series.</p>
</section>
<section id="deprecations">
<span id="id4"></span><h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this heading">#</a></h3>
<p>Deprecating obsolete code is vital to the long-term maintainability of an
open-source project. As new capabilities and better interfaces replace old
ones, removing the old ones is the only way to pay off technical debt. A
careful deprecation process is necessary to provide users a way to transition
to the newer capabilities: there must be separate releases marking code as
deprecated and removing it, and removal is only allowed in major version
changes.</p>
<p>Deprecated public APIs (functions, classes, identifiers, …) should be marked
in the code with the <code class="docutils literal notranslate"><span class="pre">[[deprecated]]</span></code> C++ attribute and an adjacent comment
“remove in vX.0”. Here, X is the next major release after the deprecation is
released <a class="footnote-reference brackets" href="#id6" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. For example, if a function is deprecated after version 1.2 is
released but a 1.3 release is planned, the comment should specify <code class="docutils literal notranslate"><span class="pre">remove</span> <span class="pre">in</span>
<span class="pre">v2.0</span></code>. However, if the deprecation is made after the final minor version is
released (i.e., on or after the <code class="docutils literal notranslate"><span class="pre">v2.0-dev</span></code> tag) the deprecation should be
marked for <code class="docutils literal notranslate"><span class="pre">v3.0</span></code>.</p>
<p>Private APIs (those not documented in the user API documentation, <em>not</em> limited
to classes in the <code class="docutils literal notranslate"><span class="pre">detail</span></code> namespace) are not subject to the deprecation
policy and can be changed at will. As the Celeritas code and its use cases
mature, some functionality will become public and others will become “private.”
Making a public API private should be treated as a deprecation.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">1</a><span class="fn-bracket">]</span></span>
<p>During initial development, deprecations will target <code class="docutils literal notranslate"><span class="pre">v0.Y</span></code>.</p>
</aside>
</aside>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="license.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">License</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="development.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Development Guide</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, UT–Battelle/ORNL and Celeritas team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Administration</a><ul>
<li><a class="reference internal" href="#community-standards">Community standards</a><ul>
<li><a class="reference internal" href="#resolution-process">Resolution process</a></li>
</ul>
</li>
<li><a class="reference internal" href="#roles">Roles</a><ul>
<li><a class="reference internal" href="#role-change-process">Role change process</a></li>
</ul>
</li>
<li><a class="reference internal" href="#code-review">Code review</a><ul>
<li><a class="reference internal" href="#review-process">Review process</a></li>
<li><a class="reference internal" href="#merge-process">Merge process</a></li>
</ul>
</li>
<li><a class="reference internal" href="#releases">Releases</a><ul>
<li><a class="reference internal" href="#release-process">Release process</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>