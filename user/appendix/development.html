<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Administration" href="administration.html" /><link rel="prev" title="Version 0.1.5" href="release-history/v0.1.html" />

    <!-- Generated with Sphinx 7.2.3 and Furo 2023.09.10 -->
        <title>Development Guide - Celeritas 0.4.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Celeritas 0.4.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/celeritas-square.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Celeritas 0.4.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../main/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/usage.html">Using Celeritas</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../main/api.html">Library API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Library API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../main/api/corecel.html">Core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main/api/orange.html">ORANGE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main/api/celeritas.html">Celeritas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main/api/accel.html">Acceleritas</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../main/examples.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../main/examples/minimal.html">Minimal Celeritas usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main/examples/geant4.html">Minimal Geant4 integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../main/references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/acknowledgments.html">Acknowledgments</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="release-history.html">Release History</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Release History</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.4.html">Version 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.4.html#version-0-4-0">Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.3.html">Version 0.3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.3.html#version-0-3-1">Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.3.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.2.html">Version 0.2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.2.html#version-0-2-1">Version 0.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.2.html#version-0-2-0">Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html">Version 0.1.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-4">Version 0.1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-3">Version 0.1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-2">Version 0.1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-1">Version 0.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-history/v0.1.html#version-0-1-0">Version 0.1.0</a></li>
</ul>
</li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="development-guide">
<span id="development"></span><h1>Development Guide<a class="headerlink" href="#development-guide" title="Link to this heading">#</a></h1>
<p>The agility, extensibility, and performance of Celeritas depend strongly on
software infrastructure and best practices. This appendix describes how to
modify and extend the codebase.</p>
<section id="contributing-to-celeritas">
<span id="contributing"></span><h2>Contributing to Celeritas<a class="headerlink" href="#contributing-to-celeritas" title="Link to this heading">#</a></h2>
<p>Thank you for your interest in the Celeritas project! Although Celeritas is
developed primarily by a group of U.S. Department of Energy subcontractors, our
goal is to increase community involvement and integration over time. We welcome
your contributions!</p>
<section id="copyright">
<h3>Copyright<a class="headerlink" href="#copyright" title="Link to this heading">#</a></h3>
<p>All submissions to the Celeritas project are automatically licensed under the
terms of <a class="reference internal" href="license.html#code-copyright"><span class="std std-ref">the project copyright</span></a> as formalized by the
<a class="reference external" href="https://docs.github.com/en/github/site-policy/github-terms-of-service#6-contributions-under-repository-license">GitHub terms of service</a>.
The person who writes a line of code is its author and copyright holder, but
the new code should be the shared responsibility of the project rather than the
exclusive property of a single contributor.
Celeritas is a collaborative project with <em>collective</em> ownership.</p>
</section>
<section id="collaborating">
<h3>Collaborating<a class="headerlink" href="#collaborating" title="Link to this heading">#</a></h3>
<p>Working with other Celeritas team members is a critical part of the development
process. Please join the <code class="docutils literal notranslate"><span class="pre">#code</span></code> channel on the <a class="reference external" href="https://celeritasproject.slack.com/">Celeritas Slack workspace</a>,
open an issue with a bug report or feature request, or start a discussion on
GitHub.</p>
</section>
<section id="development-prerequisites">
<h3>Development prerequisites<a class="headerlink" href="#development-prerequisites" title="Link to this heading">#</a></h3>
<p>Create a <a class="reference external" href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/about-forks">fork</a> of the Celeritas repository. You should clone this fork locally
to your development machine as the “origin”, and it’s a good idea to add the
main <code class="docutils literal notranslate"><span class="pre">celeritas-project</span></code> repository as an “upstream” so that you can apply
changes from the main codebase as you work.</p>
<p>To meet the <a class="reference internal" href="#formatting"><span class="std std-ref">Formatting</span></a> requirements described in the development guide,
make sure that <a class="reference external" href="https://clang.llvm.org/docs/ClangFormat.html">clang-format</a> is installed on your development machine.
Run <code class="docutils literal notranslate"><span class="pre">scripts/dev/install-commit-hooks.sh</span></code> to install a git post-commit hook
that will amend each commit with clang-format updates if necessary.</p>
<p>A mostly consistent set of decorations (separators, Doxygen comment structure,
etc.) are used throughout the code, so try to make new files look like existing
ones. Use the <code class="docutils literal notranslate"><span class="pre">celeritas-gen.py</span></code> script (in the <code class="docutils literal notranslate"><span class="pre">scripts/dev</span></code> directory) to
generate skeletons for new files, and use existing source code as a guide for
how to structure the decorations.</p>
</section>
<section id="submitting-code-changes">
<h3>Submitting code changes<a class="headerlink" href="#submitting-code-changes" title="Link to this heading">#</a></h3>
<p>When you believe that you’ve made a substantive <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> and self-contained
improvement to the code, it’s time to create a <a class="reference external" href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests">pull request</a> (PR) to get
feedback on your changes before they’re merged into the code base.</p>
<p>Before opening the pull request, check that the <a class="reference internal" href="#code-guidelines"><span class="std std-ref">code</span></a>
and <a class="reference internal" href="#style-guidelines"><span class="std std-ref">style</span></a> guidelines have been followed for all new
code and code changes.  Ensure the use of the correct formatting as well as the
addition of documentation and unit tests for new code and bug fixes.</p>
<p>All tests must pass on the CI runner before a PR can be merged. It’s best to
test locally first before submitting your pull
request, and keep in mind that the multiple configurations on the CI (different
dependency versions, different features) may reveal failures that your local
testing might have missed.</p>
<p>Each pull request should be assigned one or two reviewers who will provide
constructive feedback on your changes. Their responsibilities are outlined in
<a class="reference internal" href="administration.html#code-review"><span class="std std-ref">Code review</span></a>.
Reviews should not be started until the “draft” status has been removed (if you
marked it as a draft initially). Once a pull request is under review, <em>do not</em>
rebase, squash, or otherwise alter the branch history. Such changes can
drastically increase the difficulty of reviewing, because it may blend in a
single commit both changes in response to a review <em>and</em> changes from upstream
code. (Furthermore, it breaks GitHub notifications and makes it more difficult
to find older comments.)  You <em>can</em> merge the main upstream branch if
your changes may interact with the upstream changes, and you <em>must</em> merge if
they conflict.</p>
<p>After the CI tests pass and the reviewers have approved your changes,
your branch will be squashed and merged, and you will officially be a Celeritas
<a class="reference internal" href="administration.html#roles"><span class="std std-ref">contributor</span></a>! Congratulations!</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>All changes to the codebase must go through the pull request, but due to
the overhead of reviewing, testing, merging, and documenting a PR, we’d like
to avoid small changes that have almost no effect in terms of operation or
readability. For example, if you find a typo in the documentation, check the
rest of the docs for any other typos or improvements you’d like to make, and
submit a single PR with those changes.</p>
</aside>
</aside>
</section>
</section>
<section id="code-development-guidelines">
<span id="code-guidelines"></span><h2>Code development guidelines<a class="headerlink" href="#code-development-guidelines" title="Link to this heading">#</a></h2>
<p>Every new piece of code is a commitment for you and other developers to
maintain it in the future (or delete it if obsolete). There are numerous
considerations to making code easier to update or understand, including testing
and documentation.</p>
<section id="document-implicitly-and-explicitly">
<h3>Document implicitly and explicitly<a class="headerlink" href="#document-implicitly-and-explicitly" title="Link to this heading">#</a></h3>
<p>Code should be self-documenting as far as possible (see details below for
naming conventions). This means that variable names, function names, and
function arguments should be as “obvious” as possible. Take particular care
with constants that appear in physics implementations. They should
be multiplied by units in the native Celeritas unit system if applicable, or
defined as <code class="docutils literal notranslate"><span class="pre">Quantity</span></code> instances. The numerical value of the constant must
also be documented with a paper citation or other comment.</p>
</section>
<section id="test-thoroughly">
<h3>Test thoroughly<a class="headerlink" href="#test-thoroughly" title="Link to this heading">#</a></h3>
<p>Functions should use programmatic assertions whenever assumptions are made:</p>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">CELER_EXPECT(x)</span></code> assertion macro to test preconditions about
incoming data or initial internal states.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">CELER_ASSERT(x)</span></code> to express an assumption internal to a function (e.g.,
“this index is not out of range of the array”).</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">CELER_ENSURE(x)</span></code> to mark expectations about data being returned from a
function and side effects resulting from the function.</p></li>
</ul>
<p>These assertions are enabled only when the <code class="docutils literal notranslate"><span class="pre">CELERITAS_DEBUG</span></code> CMake option is
set.</p>
<p>Additionally, user-provided data and potentially volatile runtime conditions
(such as the presence of an environment variable) should be checked with
the always-on assertion <code class="docutils literal notranslate"><span class="pre">CELER_VALIDATE(x,</span> <span class="pre">&lt;&lt;</span> <span class="pre">&quot;streamable</span> <span class="pre">message&quot;)</span></code> macro. See
<a class="reference internal" href="../main/api/corecel.html#api-corecel"><span class="std std-ref">Core package</span></a> for more details about these macros.</p>
<p>Each class must be thoroughly tested with an independent unit test in the
<cite>test</cite> directory.  For complete coverage, each function of the class must have
at least as many tests as the number of possible code flow paths (cyclomatic
complexity).</p>
<p>Implementation detail classes (in the <code class="docutils literal notranslate"><span class="pre">celeritas::detail</span></code> namespace, in
<code class="docutils literal notranslate"><span class="pre">detail/</span></code> subdirectories) are exempt from the testing requirement, but
testing the detail classes is a good way to simplify edge case testing compared
to testing the higher-level code.</p>
</section>
<section id="maximize-encapsulation">
<h3>Maximize encapsulation<a class="headerlink" href="#maximize-encapsulation" title="Link to this heading">#</a></h3>
<p>Encapsulation is about making a piece of code into a black box. The fewer lines
connecting these black boxes, the more maintainable the code. Black boxes can
often be improved internally by making tiny black boxes inside the larger black
box.</p>
<p>Motivation:</p>
<ul class="simple">
<li><p>Developers don’t have to understand implementation details when looking at a
class interface.</p></li>
<li><p>Compilers can optimize better when dealing with more localized components.</p></li>
<li><p>Good encapsulation allows components to be interchanged easily because they
have well-defined interfaces.</p></li>
<li><p>Pausing to think about how to minimize input and output from an algorithm can
improve it <em>and</em> make it easier to write.</p></li>
</ul>
<p>Applications:</p>
<ul class="simple">
<li><p>Refactor large functions (&gt; 50-ish statements?) into small functors that take
“invariant” values (the larger context) for constructors and use
<code class="docutils literal notranslate"><span class="pre">operator()</span></code> to transform some input into the desired output</p></li>
<li><p>Use only <code class="docutils literal notranslate"><span class="pre">const</span></code> data when sharing. Non-const shared data is almost like
using global variables.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">OpaqueId</span></code> instead of integers and magic sentinel values for
integer identifiers that aren’t supposed to be arithmetical.</p></li>
</ul>
<p>Examples:</p>
<ul class="simple">
<li><p>Random number sampling: write a unit sphere sampling functor instead of
replicating a polar-to-Cartesian transform in a thousand places.</p></li>
<li><p>Volume IDs: Opaque IDs add type safety so that you can’t accidentally convert
a volume identifier into a double or switch a volume and material ID. It also
makes code more readable of course.</p></li>
</ul>
<p>Encapsulation is also useful for code reuse. Always avoid copy-pasting code, as
it means potentially duplicating bugs, duplicating the amount of work needed
when refactoring, and missing optimizations.</p>
</section>
<section id="minimize-compile-time">
<h3>Minimize compile time<a class="headerlink" href="#minimize-compile-time" title="Link to this heading">#</a></h3>
<p>Code performance is important but so is developer time. When possible,
minimize the amount of code touched by NVCC. (NVCC’s error output is also
rudimentary compared to modern clang/GCC, so that’s another reason to prefer
them compiling your code.)</p>
</section>
<section id="prefer-single-state-classes">
<h3>Prefer single-state classes<a class="headerlink" href="#prefer-single-state-classes" title="Link to this heading">#</a></h3>
<p>As much as possible, make classes “complete” and valid after calling the
constructor. Try to avoid “finalize” functions that have to be called in a
specific order to put the class in a workable state. If a finalize function
<em>is</em> used, implement assertions to detect and warn the developer if the
required order is not respected.</p>
<p>When a class has a single function (especially if you name that function
<code class="docutils literal notranslate"><span class="pre">operator()</span></code>), its usage is obvious. The reader also doesn’t have to know
whether a class uses <code class="docutils literal notranslate"><span class="pre">doIt</span></code> or <code class="docutils literal notranslate"><span class="pre">do_it</span></code> or <code class="docutils literal notranslate"><span class="pre">build</span></code>.</p>
<p>When you have a class that needs a lot of data to start in a valid state, use a
<code class="docutils literal notranslate"><span class="pre">struct</span></code> of intuitive objects to pass the data to the class’s constructor.
The constructor can do any necessary validation on the input data.</p>
</section>
<section id="learn-from-the-pros">
<h3>Learn from the pros<a class="headerlink" href="#learn-from-the-pros" title="Link to this heading">#</a></h3>
<p>Other entities devoted to sustainable programming have their own guidelines.
The <a class="reference external" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines">ISO C++ guidelines</a> are very long but offer a number of insightful
suggestions about C++ programming. The <a class="reference external" href="https://google.github.io/styleguide/cppguide.html">Google style guide</a> is a little more
targeted toward legacy code and large production environments, but it still
offers good suggestions. For software engineering best practices, the
book <a class="reference external" href="https://abseil.io/resources/swe-book">Software Engineering at Google</a> is an excellent reference.</p>
</section>
</section>
<section id="style-guidelines">
<span id="id3"></span><h2>Style guidelines<a class="headerlink" href="#style-guidelines" title="Link to this heading">#</a></h2>
<p>Having a consistent code style makes it more readable and maintainable. (For
example, you don’t have to guess whether a symbol is a function or class.)</p>
<p>As a historical note, many of the style conventions in Celeritas derive from
the <a class="reference external" href="https://github.com/lanl/Draco/wiki/Style-Guide">Draco project style</a> of which <a class="reference external" href="https://github.com/tmdelellis">Tom Evans</a> was primary author and which
became the style standard for the GPU-enabled Monte Carlo code <a class="reference external" href="https://doi.org/10.1016/j.anucene.2019.01.012">Shift</a>.</p>
<section id="formatting">
<span id="id4"></span><h3>Formatting<a class="headerlink" href="#formatting" title="Link to this heading">#</a></h3>
<p>Formatting is determined by the clang-format file inside the top-level
directory. One key restriction is the 80-column limit, which enables multiple
code windows to be open side-by-side. Generally, statements longer than 80
columns should be broken into sub-expressions for improved readability anyway
– the <code class="docutils literal notranslate"><span class="pre">auto</span></code> keyword can help a lot with this. The post-commit formatting
hook in <code class="file docutils literal notranslate"><span class="pre">scripts/dev</span></code> (execute
<code class="file docutils literal notranslate"><span class="pre">scripts/dev/install-commit-hooks.sh</span></code> to set up this script) can take
care of clang formatting automatically. The clang-format script will also
enforce the use of “<a class="reference external" href="https://hackingcpp.com/cpp/design/east_vs_west_const.html">East const</a>”, where the <code class="docutils literal notranslate"><span class="pre">const</span></code> keyword is always to
the right of the type that it modifies.</p>
<p>Certain decorations (separators, Doxygen comment structure,
etc.) are standard throughout the code. Use the <code class="file docutils literal notranslate"><span class="pre">celeritas-gen.py</span></code> script
(in the <code class="file docutils literal notranslate"><span class="pre">scripts/dev</span></code> directory) to generate skeletons for new files, and
use existing source code as a guide to how to structure the decorations.
Doxygen comments should be provided next to the <em>definition</em> of functions (both
member and free) and classes.</p>
</section>
<section id="symbol-names">
<h3>Symbol names<a class="headerlink" href="#symbol-names" title="Link to this heading">#</a></h3>
<p>Functions should be verbs; classes should be names. As in standard Python
(PEP-8-compliant) code, classes should use <code class="docutils literal notranslate"><span class="pre">CapWordsStyle</span></code> and variables use
<code class="docutils literal notranslate"><span class="pre">snake_case_style</span></code>. A symbol should have a trailing underscore <em>always and
only</em> if it is private member data: neither public member data nor private
member functions should have them.</p>
<p>Functors (classes whose instances act like a function) should be an <em>agent
noun</em>: the noun form of an action verb. Instances of a functor should be a
verb. For example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ModelEvaluator</span><span class="w"> </span><span class="nf">evaluate_something</span><span class="p">(</span><span class="n">parameters</span><span class="p">...);</span>
<span class="k">auto</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evaluate_something</span><span class="p">(</span><span class="n">arguments</span><span class="p">...);</span>
</pre></div>
</div>
<p>There are many opportunities to use <code class="docutils literal notranslate"><span class="pre">OpaqueId</span></code> in GPU code to indicate
indexing into particular vectors. To maintain consistency, we let an
index into a vector of <code class="docutils literal notranslate"><span class="pre">Foo</span></code> objects have a corresponding <code class="docutils literal notranslate"><span class="pre">OpaqueId</span></code>
type:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">FooId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OpaqueId</span><span class="o">&lt;</span><span class="n">Foo</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p>and ideally be defined either immediately after <code class="docutils literal notranslate"><span class="pre">Foo</span></code> or in a
<code class="file docutils literal notranslate"><span class="pre">Types.hh</span></code> file.  Some <code class="docutils literal notranslate"><span class="pre">OpaqueId</span></code> types may have only a “symbolic”
corresponding type, in which case a tag struct can be be defined inline, using
an underscore suffix as a convention indicating the type does not correspond to
an actual class:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">BarId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OpaqueId</span><span class="o">&lt;</span><span class="k">struct</span><span class="w"> </span><span class="nc">Bar_</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Public functions in user-facing Geant4 classes (those in <code class="docutils literal notranslate"><span class="pre">accel</span></code>)
should try to conform to Geant4-style naming conventions, especially because
many will derive from Geant4 class interfaces.</p>
</div>
</section>
<section id="file-names">
<h3>File names<a class="headerlink" href="#file-names" title="Link to this heading">#</a></h3>
<p>We choose the convention of <code class="docutils literal notranslate"><span class="pre">.cc</span></code> for C++ translation units and
corresponding <code class="docutils literal notranslate"><span class="pre">.hh</span></code> files for C++ headers.</p>
<p>Thus we have the following rules:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.hh</span></code> is for C++ header code compatible with host compilers. The code in
this file can be compatible with device code if it uses the
<code class="docutils literal notranslate"><span class="pre">CELER_FUNCTION</span></code> family of macros defined in <code class="docutils literal notranslate"><span class="pre">corecel/Macros.hh</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.cc</span></code> is for C++ code that will invariably be compiled by the host
compiler.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.cu</span></code> is for <code class="docutils literal notranslate"><span class="pre">__global__</span></code> kernels and functions that launch them,
including code that initializes device memory. Despite the filename, these
files should generally also be HIP-compatible using Celeritas abstraction
macros.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.device.hh</span></code> and <code class="docutils literal notranslate"><span class="pre">.device.cc</span></code> require CUDA/HIP to be enabled and use the
library’s runtime libraries and headers, but they do not execute any device
code and thus can be built by a host compiler. If the CUDA-related code is
guarded by <code class="docutils literal notranslate"><span class="pre">#if</span> <span class="pre">CELER_USE_DEVICE</span></code> macros then the special extension is not
necessary.</p></li>
</ul>
<p>Some files have special extensions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.t.hh</span></code> is for non-inlined <code class="docutils literal notranslate"><span class="pre">template</span></code> implementations that can be
included and instantiated elsewhere. However, if the function
declaration in the <code class="docutils literal notranslate"><span class="pre">.hh</span></code> file is declared <code class="docutils literal notranslate"><span class="pre">inline</span></code>, the definition
should be provided there as well.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.test.cc</span></code> are unit test executables corresponding to the main <code class="docutils literal notranslate"><span class="pre">.cc</span></code>
file. These should only be in the main <code class="docutils literal notranslate"><span class="pre">/test</span></code> directory.</p></li>
</ul>
</section>
<section id="device-compilation">
<h3>Device compilation<a class="headerlink" href="#device-compilation" title="Link to this heading">#</a></h3>
<p>All <code class="docutils literal notranslate"><span class="pre">__device__</span></code> and <code class="docutils literal notranslate"><span class="pre">__global__</span></code> code must be compiled with NVCC or
HIPCC to generate device objects. However, code that merely uses CUDA API calls
such as
<code class="docutils literal notranslate"><span class="pre">cudaMalloc</span></code> does <em>not</em> have to be compiled with NVCC. Instead, it only has to
be linked against the CUDA runtime library and include <code class="docutils literal notranslate"><span class="pre">cuda_runtime_api.h</span></code>.
The platform-agnostic Celeritas include file to use is
<code class="docutils literal notranslate"><span class="pre">corecel/device_runtime_api.h</span></code>.
Note that VecGeom compiles differently when run
through NVCC (macro magic puts much of the code in a different namespace) so
its inclusion must be very carefully managed.</p>
<p>Since NVCC is slower and other compilers’ warning/error output is more
readable, it’s preferable to use NVCC for as little compilation as possible.
Furthermore, not requiring NVCC lets us play nicer with downstream libraries
and front-end apps. Host code will not be restricted to the maximum C++ standard version
supported by NVCC.</p>
<p>Of course, the standard compilers cannot include any CUDA code containing
kernel launches, since those require special parsing by the compiler. So kernel
launches and <code class="docutils literal notranslate"><span class="pre">__global__</span></code> code must be in a <code class="docutils literal notranslate"><span class="pre">.cu</span></code> file. However, the
CUDA runtime does define the special <code class="docutils literal notranslate"><span class="pre">__host__</span></code> and <code class="docutils literal notranslate"><span class="pre">__device__</span></code> macros (among
others). Therefore it is OK for a CUDA file to be included by host code as long
as it <code class="docutils literal notranslate"><span class="pre">#include</span></code> s the CUDA API. (Note that if such a file is to be included by
downstream code, it will also have to propagate the CUDA include directories.)</p>
<p>Choosing to compile code with the host compiler rather than NVCC also provides
a check against surprise kernel launches. For example, the declaration:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">thrust</span><span class="o">::</span><span class="n">device_vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dv</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</pre></div>
</div>
<p>actually launches a kernel to fill the vector’s initial state. The code will
not compile in a <code class="docutils literal notranslate"><span class="pre">.cc</span></code> file run through the host compiler, but it will
automatically (and silently) generate kernel code when run through NVCC.</p>
</section>
<section id="variable-names">
<h3>Variable names<a class="headerlink" href="#variable-names" title="Link to this heading">#</a></h3>
<p>Generally speaking, variables should have short lifetimes and should be
self-documenting. Avoid shorthand and “transliterated” mathematical
expressions: prefer <code class="docutils literal notranslate"><span class="pre">constants::na_avogadro</span></code> to <code class="docutils literal notranslate"><span class="pre">N_A</span></code> (or express the
constant functionally with <code class="docutils literal notranslate"><span class="pre">atoms_per_mole</span></code>) and use <code class="docutils literal notranslate"><span class="pre">atomic_number</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">Z</span></code>. Physical constants should try to have the symbol concatenated
to the context or meaning (e.g. <cite>c_light</cite> or <cite>h_planck</cite>).</p>
<p>Use scoped enumerations (<code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">class</span></code>) where possible (named like classes) so
their values can safely be named like member variables (lowercase with
underscores). Prefer enumerations to boolean values in function interfaces
(since <code class="docutils literal notranslate"><span class="pre">do_something(true)</span></code> requires looking up the function interface
definition to understand).</p>
</section>
<section id="function-arguments-and-return-values">
<h3>Function arguments and return values<a class="headerlink" href="#function-arguments-and-return-values" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Always pass value types for arguments when the data is small (<code class="docutils literal notranslate"><span class="pre">sizeof(arg)</span>
<span class="pre">&lt;=</span> <span class="pre">sizeof(void*)</span></code>). Using values instead of pointers/references allows the
compiler to optimize better. If the argument is nontrivial but you need to
make a local copy anyway, it’s OK to make the function argument a value (and
use <code class="docutils literal notranslate"><span class="pre">std::move</span></code> internally as needed, but this is a more complicated
topic).</p></li>
<li><p>In general, avoid <code class="docutils literal notranslate"><span class="pre">const</span></code> values (e.g. <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int</span></code>), because the decision
to modify a local variable or not is an implementation detail of the
function, not part of its interface.</p></li>
<li><p>Use const <em>references</em> for types that are nontrivial and that you only need
to access or pass to other const-reference functions.</p></li>
<li><p>Prefer return values or structs rather than mutable function arguments. This
makes it clear that there are no preconditions on the input value’s state.</p></li>
<li><p>In Celeritas we use the google style of passing mutable pointers instead of
mutable references, so that it’s more obvious to the calling code that a
value is going to be modified. Add <code class="docutils literal notranslate"><span class="pre">CELER_EXPECT(input);</span></code> to make it clear
that the pointer needs to be valid, and add any other preconditions.</p></li>
<li><p>Host-only (e.g., runtime setup) code should almost never return raw pointers;
use shared pointers instead to make the ownership semantics clear. When
interfacing with older libraries such as Geant4, try to use <code class="docutils literal notranslate"><span class="pre">unique_ptr</span></code>
and its <code class="docutils literal notranslate"><span class="pre">release</span></code>/<code class="docutils literal notranslate"><span class="pre">get</span></code> semantics to indicate the transfer of pointer
ownership.</p></li>
<li><p>Since we don’t yet support C++17’s <code class="docutils literal notranslate"><span class="pre">string_view</span></code> it’s OK to use <code class="docutils literal notranslate"><span class="pre">const</span>
<span class="pre">char*</span></code> to indicate a read-only string.</p></li>
</ul>
<p>Memory is always managed from host code, since on-device data management can be
tricky, proprietary, and inefficient. There are no shared or unique pointers,
but there is less of a need because memory management semantics are clearer.
Device code has exceptions from the rules above:</p>
<ul class="simple">
<li><p>In low-level device-compatible code (such as a <code class="docutils literal notranslate"><span class="pre">TrackView</span></code>), it is OK to
return a pointer from a function to indicate that the result may be undefined
(i.e., the pointer is null) or a non-owning <strong>reference</strong> to valid memory.
This is used in the <code class="docutils literal notranslate"><span class="pre">StackAllocator</span></code> to indicate a failure to allocate new
memory, and in some accessors where the result is optional.</p></li>
<li><p>The rule of passing references to complex data does not apply to CUDA
<code class="docutils literal notranslate"><span class="pre">__global__</span></code> kernels, because device code cannot accept references to host
memory. Instead, kernel parameters should copy by value or provide raw
pointers to device memory. Indicate that the argument should not be used
inside the kernel can prefix it with <code class="docutils literal notranslate"><span class="pre">const</span></code>, so the CUDA compiler places
the argument in <code class="docutils literal notranslate"><span class="pre">__constant__</span></code> memory rather than taking up register space.</p></li>
</ul>
</section>
<section id="odds-and-ends">
<h3>Odds and ends<a class="headerlink" href="#odds-and-ends" title="Link to this heading">#</a></h3>
<p>Although <code class="docutils literal notranslate"><span class="pre">struct</span></code> and <code class="docutils literal notranslate"><span class="pre">class</span></code> are interchangeable for class definitions
(modifying only the default visibility as public or private), use <code class="docutils literal notranslate"><span class="pre">struct</span></code>
for data-oriented classes that don’t declare constructors and have only
public data; and use <code class="docutils literal notranslate"><span class="pre">class</span></code> for classes designed to encapsulate
functionality and/or data.</p>
<p>With template parameters, <code class="docutils literal notranslate"><span class="pre">typename</span> <span class="pre">T</span></code> and <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">T</span></code> are also
interchangeable, but use <code class="docutils literal notranslate"><span class="pre">template</span> <span class="pre">&lt;class</span> <span class="pre">T&gt;</span></code> to be consistent internally and
with the standard library. (It’s also possible to have <code class="docutils literal notranslate"><span class="pre">template</span> <span class="pre">&lt;typename</span></code>
where <code class="docutils literal notranslate"><span class="pre">typename</span></code> <em>doesn’t</em> mean a class: namely,
<code class="docutils literal notranslate"><span class="pre">template</span> <span class="pre">&lt;typename</span> <span class="pre">U::value_type</span> <span class="pre">Value&gt;</span></code>.)</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">this-&gt;</span></code> when calling member functions inside a class to convey that the
<code class="docutils literal notranslate"><span class="pre">this</span></code> pointer is implicitly being passed to the function and to make it
easier to differentiate from a free function in the current scope.</p>
</section>
</section>
<section id="data-management-in-celeritas">
<h2>Data management in Celeritas<a class="headerlink" href="#data-management-in-celeritas" title="Link to this heading">#</a></h2>
<p>Data management must be isolated from data use for any code that is to run on
the device. This
allows low-level physics classes to operate on references to data using the
exact same device/host code. Furthermore, state data (one per track) and
shared data (definitions, persistent data, model data) should be separately
allocated and managed.</p>
<dl class="simple">
<dt>Params</dt><dd><p>Provide a CPU-based interface to manage and provide access to constant shared
GPU data, usually model parameters or the like. The Params class itself can
only be accessed via host code. A params class can contain metadata (string
names, etc.) suitable for host-side debug output and for helping related
classes convert from user-friendly input (e.g. particle name) to
device-friendly IDs (e.g. particle def ID).</p>
</dd>
<dt>State</dt><dd><p>Thread-local data specifying the state of a single particle track with
respect to a corresponding model (<code class="docutils literal notranslate"><span class="pre">FooParams</span></code>).</p>
</dd>
<dt>TrackView</dt><dd><p>Device-friendly class that provides read/write access to the data for a
single track, in the spirit of <cite>std::string_view</cite> which adds functionality to
data owned by someone else. It combines the state variables and model
parameters into a single class. The constructor always takes const references
to ParamsData and StateData as well as the track ID. It encapsulates
the storage/layout of the state and parameters, as well as what (if any) data
is cached in the state.</p>
</dd>
<dt>View</dt><dd><p>Device-friendly class with read/write access for data shared across
threads.  For example, allocation for Secondary particles is performed on
device, but the data is not specific to a thread.</p>
</dd>
</dl>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Consider the following example.</p>
<p>All SM physics particles share a common set of properties such as mass and
charge, and each instance of particle has a particular set of
associated variables such as kinetic energy. The shared data (SM parameters)
reside in <code class="docutils literal notranslate"><span class="pre">ParticleParams</span></code>, and the particle track properties are managed
by a <code class="docutils literal notranslate"><span class="pre">ParticleStateStore</span></code> class.</p>
<p>A separate class, the <code class="docutils literal notranslate"><span class="pre">ParticleTrackView</span></code>, is instantiated with a
specific thread ID so that it acts as an accessor to the
stored data for a particular track. It can calculate properties that depend
on both the state and parameters. For example, momentum depends on both the
mass of a particle (constant, set by the model) and the speed (variable,
depends on particle track state).</p>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="administration.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Administration</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="release-history/v0.1.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Version 0.1.5</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, UT–Battelle/ORNL and Celeritas team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Development Guide</a><ul>
<li><a class="reference internal" href="#contributing-to-celeritas">Contributing to Celeritas</a><ul>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
<li><a class="reference internal" href="#collaborating">Collaborating</a></li>
<li><a class="reference internal" href="#development-prerequisites">Development prerequisites</a></li>
<li><a class="reference internal" href="#submitting-code-changes">Submitting code changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#code-development-guidelines">Code development guidelines</a><ul>
<li><a class="reference internal" href="#document-implicitly-and-explicitly">Document implicitly and explicitly</a></li>
<li><a class="reference internal" href="#test-thoroughly">Test thoroughly</a></li>
<li><a class="reference internal" href="#maximize-encapsulation">Maximize encapsulation</a></li>
<li><a class="reference internal" href="#minimize-compile-time">Minimize compile time</a></li>
<li><a class="reference internal" href="#prefer-single-state-classes">Prefer single-state classes</a></li>
<li><a class="reference internal" href="#learn-from-the-pros">Learn from the pros</a></li>
</ul>
</li>
<li><a class="reference internal" href="#style-guidelines">Style guidelines</a><ul>
<li><a class="reference internal" href="#formatting">Formatting</a></li>
<li><a class="reference internal" href="#symbol-names">Symbol names</a></li>
<li><a class="reference internal" href="#file-names">File names</a></li>
<li><a class="reference internal" href="#device-compilation">Device compilation</a></li>
<li><a class="reference internal" href="#variable-names">Variable names</a></li>
<li><a class="reference internal" href="#function-arguments-and-return-values">Function arguments and return values</a></li>
<li><a class="reference internal" href="#odds-and-ends">Odds and ends</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-management-in-celeritas">Data management in Celeritas</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=c87aa342"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>